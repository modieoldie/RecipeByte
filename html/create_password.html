<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Password</title>
    <link href="https://fonts.googleapis.com/css2?family=Inria+Serif&display=swap" rel="stylesheet"> <!-- Include Inria Serif -->
    <style>
        body {
            margin: 0;
            font-family: 'Inria Serif', serif; /* Change to Inria Serif */
            height: 100vh; /* Full height of the viewport */
            background-color: white; /* Background color of the page */
        }

        .taskbar {
            display: flex;
            align-items: center;
            background-color: black;
            color: white;
            padding: 10px 20px;
            width: 100%;
        }

        .logo {
            height: 40px; /* Adjust the height as needed */
            margin-right: 10px; /* Space between logo and text */
        }

        .company-name {
            font-size: 24px; /* Adjust the font size as needed */
        }

.input-container {
    margin: 0 auto; /* Center the container */
    text-align: center; /* Center the text */
    display: flex; /* Enable flexbox */
    flex-direction: column; /* Stack items vertically */
    align-items: center; /* Center items horizontally */
    position: absolute; /* Position it absolutely */
    top: 50%; /* Move it down to the middle */
    left: 50%; /* Move it to the middle */
    transform: translate(-50%, -50%); /* Center it */
}

.input-field {
    width: 300px; /* Width of the input field */
    padding: 10px; /* Padding inside the input */
    border: 1px solid #ccc; /* Border color */
    border-radius: 5px; /* Rounded corners */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Shadow effect */
    margin-bottom: 10px; /* Space below the input */
    font-family: 'Inria Serif', serif; /* Font for input field */
    display: block; /* Ensure input fields are block elements */
}

.continue-button, .go-back-button {
    width: 300px; /* Width of the buttons */
    padding: 10px; /* Padding inside the buttons */
    border: none; /* No border */
    border-radius: 5px; /* Rounded corners */
    cursor: pointer; /* Pointer cursor on hover */
    font-size: 16px; /* Font size */
    margin-bottom: 10px; /* Space below buttons */
    font-family: 'Inria Serif', serif; /* Font for buttons */
    text-decoration: none; /* Remove underline from links */
    display: block; /* Make the buttons block elements */
    text-align: center; /* Center text in the button */
}

        .continue-button {
            background-color: black; /* Background color for continue button */
            color: white; /* Text color for continue button */
        }

        .go-back-button {
            background-color: lightgray; /* Background color for go back button */
            color: black; /* Text color for go back button */
        }

        .error-message {
            color: red; /* Error message color */
            margin-bottom: 10px; /* Space below the error message */
        }
    </style>
</head>
<body>
    <div class="taskbar">
        <a href="landing.html" style="display: flex; align-items: center; text-decoration: none; color: white;">
            <img src="https://aptitude.cse.buffalo.edu/CSE442/2025-Fall/cse-442aj/website/images/logo-13.svg" alt="Company Logo" class="logo">
            <span class="company-name">RecipeByte</span>
        </a>
    </div>

<div class="input-container">
    <form id="passwordForm" action="process.php" method="POST">
        <div id="error-message" class="error-message" style="display: none;"></div> <!-- Error message div -->
        <input type="password" id="password" name="password" class="input-field" placeholder="Enter password" required> <!-- Password input -->
        <input type="password" id="repassword" name="repassword" class="input-field" placeholder="Re-enter password" required> <!-- Re-enter password input -->
        <a href="#" class="continue-button" onclick="verifyPasswords(event)">Continue</a> <!-- Continue button -->
        <a href="signup.html" class="go-back-button">Go Back</a> <!-- Go Back button -->
    </form>
</div>

<script>
    function verifyPasswords(event) {
        event.preventDefault(); // Prevent the default anchor behavior
        const password = document.getElementById('password').value;
        const repassword = document.getElementById('repassword').value;
        const errorMessageDiv = document.getElementById('error-message');

        if (password === repassword && password.trim() !== "") {
            // Prepare form data to send
            const formData = new FormData();
            formData.append('password', password);

            // Send data to process.php using fetch
            fetch('process.php', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text(); // Assuming the response is JSON
            })
            .then(data => {
                console.log('Success:', data); // Handle success response
                // Redirect to the login page
                window.location.href = 'login.html'; // Replace with your actual login page URL
            })
            .catch((error) => {
                console.error('Error:', error);
                errorMessageDiv.textContent = "There was an error processing your request.";
                errorMessageDiv.style.display = "block"; // Show the error message
            });
        } else {
            // Show error message
            errorMessageDiv.textContent = "Passwords do not match.";
            errorMessageDiv.style.display = "block"; // Show the error message
        }
    }
</script>
